# üñºÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

## üö® –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∏

### 1. –û—à–∏–±–∫–∏ 400 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js Image –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `next.config.mjs`:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –¥–æ–º–µ–Ω—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –í–∫–ª—é—á–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ Supabase (`*.supabase.co`)
- –û—Ç–∫–ª—é—á–µ–Ω—ã source maps –¥–ª—è production

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ default –∞–≤–∞—Ç–∞—Ä—ã
**–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω—ã default –∞–≤–∞—Ç–∞—Ä—ã:
- `/default-avatar.svg` - –æ—Å–Ω–æ–≤–Ω–æ–π SVG –∞–≤–∞—Ç–∞—Ä
- `/default-avatar.png` - PNG –≤–µ—Ä—Å–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- `/default-female-avatar.png` - –∂–µ–Ω—Å–∫–∏–π –∞–≤–∞—Ç–∞—Ä
- `/default-male-avatar.png` - –º—É–∂—Å–∫–æ–π –∞–≤–∞—Ç–∞—Ä

### 3. –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ source maps
**–ü—Ä–∏—á–∏–Ω–∞**: Next.js –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å source maps –≤ production
**–†–µ—à–µ–Ω–∏–µ**: –û—Ç–∫–ª—é—á–µ–Ω—ã source maps —á–µ—Ä–µ–∑ `productionBrowserSourceMaps: false`

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### SafeImage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `app/components/SafeImage.tsx` –∫–æ—Ç–æ—Ä—ã–π:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ default –∞–≤–∞—Ç–∞—Ä –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–ø—Å—ã Next.js Image

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```javascript
images: {
  remotePatterns: [
    // Supabase
    { protocol: 'https', hostname: '*.supabase.co' },
    // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ö–æ—Å—Ç—ã
    { protocol: 'https', hostname: 'images.unsplash.com' },
    { protocol: 'https', hostname: 'res.cloudinary.com' },
    // ... –∏ –¥—Ä—É–≥–∏–µ
  ],
  unoptimized: process.env.NODE_ENV === 'development',
  dangerouslyAllowSVG: true,
}
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ URL –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `AvatarService.validateAvatarUrl()`
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WebP —Ñ–æ—Ä–º–∞—Ç –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –í–∫–ª—é—á–∏—Ç–µ lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ production
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ URL
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Next.js
4. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

### –ï—Å–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏ 400:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `next.config.mjs`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ `remotePatterns`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ï—Å–ª–∏ default –∞–≤–∞—Ç–∞—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `/public`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º 